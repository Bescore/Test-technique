"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[443],{1057:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("compte")],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cont_compt"},[r("h2",[e._v("Mon compte")]),r("div",{staticClass:"spot_display"},[r("span",{staticClass:"sous_titre"},[e._v(" Où suis-je garé? ")]),r("div",{staticClass:"spot_box"},[0!=e.maplace?r("span",{staticClass:"sous_titre_font"},[e._v(e._s(e.place))]):r("span",{staticClass:"sous_titre_font"},[e._v("Vous n'êtes pas garé")])]),r("br"),r("div",{staticClass:"Etage"},[e._v("Etage : "+e._s(e.etage))])]),r("h3",[e._v("Mes informations")]),r("div",{staticClass:"my_infos"},[r("div",[e._v("Nom : "+e._s(e.nom))]),r("br"),r("div",[e._v("Prenom : "+e._s(e.prenom))]),r("br"),r("div",[e._v("Email : "+e._s(e.email))]),r("br")]),r("router-link",{staticClass:"se_garer",attrs:{to:"/home"}},[e._v("Se garer")]),r("div",{staticClass:"free_the_spot",on:{click:function(t){return e.freeTheSpot()}}},[r("p",[e._v("Libérer la place et payer")])])],1)},o=[],i=r(3019),c=r(6198),l=(r(5666),r(9669)),u=r.n(l),p=r(629),m={mounted:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(localStorage.getItem("othersecret")){t.next=5;break}alert("je ne vous reconnaît pas ! reconnectez vous"),e.$router.push("/"),t.next=11;break;case 5:return t.next=7,u().post("api/auth/myAccount",{userId:localStorage.getItem("othersecret")});case 7:r=t.sent,e.nom=r.data[0].nom,e.prenom=r.data[0].prenom,e.email=r.data[0].mail;case 11:case"end":return t.stop()}}),t)})))()},beforeMount:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u().post("api/auth/myPlace",{userId:localStorage.getItem("othersecret")});case 2:r=t.sent,void 0==r.data[0]?(e.$store.dispatch("decmaplace"),document.querySelector(".se_garer").style.display="flex",document.querySelector(".free_the_spot").style.display="none",document.querySelector(".Etage").style.display="none"):(e.$store.dispatch("getmaplace"),document.querySelector(".se_garer").style.display="none",document.querySelector(".free_the_spot").style.display="flex",document.querySelector(".Etage").style.display="block",console.log(r.data[0]),e.place=r.data[0].nom_de_place,e.etage=r.data[0].etage);case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{place:null,etage:null,nom:null,prenom:null,email:null}},computed:(0,i.Z)({},(0,p.rn)(["maplace"])),methods:{freeTheSpot:function(){return(0,c.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u().put("api/test/freespot",{userId:localStorage.getItem("othersecret")});case 2:t=e.sent,console.log(t.data),location.reload();case 5:case"end":return e.stop()}}),e)})))()}}},d=m,v=r(1001),g=(0,v.Z)(d,s,o,!1,null,"515fba0d",null),f=g.exports,h={name:"compteview",components:{compte:f}},_=h,w=(0,v.Z)(_,n,a,!1,null,null,null),y=w.exports},6681:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("login",{attrs:{hell:"NOPE"}})},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Parkfast")]),r("figure",[e._m(0),r("figcaption",{attrs:{id:"caption"},on:{click:function(t){return e.connectDisplay()}}},[e._v(" Cliquez ici pour nous rejoindre ")])]),r("form",{staticClass:"connecter",on:{submit:function(e){e.preventDefault()}}},[r("p",[e._v("Se connecter")]),r("hr"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mail1,expression:"mail1"}],attrs:{type:"text",id:"email",placeholder:"Mail"},domProps:{value:e.mail1},on:{input:function(t){t.target.composing||(e.mail1=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],attrs:{type:"text",id:"password",placeholder:"Mot de passe"},domProps:{value:e.password1},on:{input:function(t){t.target.composing||(e.password1=t.target.value)}}}),r("br"),r("input",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(t){return e.login()}}})]),r("form",{staticClass:"inscrire",on:{submit:function(e){e.preventDefault()}}},[r("p",[e._v("S'inscrire")]),r("hr"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.nom,expression:"nom"}],attrs:{type:"text",id:"name_ins",placeholder:"Nom"},domProps:{value:e.nom},on:{input:function(t){t.target.composing||(e.nom=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.prenom,expression:"prenom"}],attrs:{type:"text",id:"firstname_ins",placeholder:"Prenom"},domProps:{value:e.prenom},on:{input:function(t){t.target.composing||(e.prenom=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mail2,expression:"mail2"}],attrs:{type:"text",id:"email_ins",placeholder:"Mail"},domProps:{value:e.mail2},on:{input:function(t){t.target.composing||(e.mail2=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],attrs:{type:"text",id:"password_ins",placeholder:"Mot de passe"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),r("br"),r("input",{attrs:{type:"submit",value:"C'est partie !"},on:{click:function(t){return e.signup()}}})]),r("footer",[e._v("© Copyright 2022 Jm.Lator. All rights reserved.")])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:r(5155),alt:"image"}})])}],i=r(6198),c=(r(5666),r(9669)),l=r.n(c),u={name:"login",props:{hell:String},computed:{isconnectedX:function(){return this.$store.state.isconnected},incremented:function(){this.$store.getters.incremented}},data:function(){return{mail1:"",password1:"",nom:"",prenom:"",mail2:"",password2:""}},methods:{signup:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l().post("api/auth/signup",{nom:e.nom,prenom:e.prenom,email:e.mail2,password:e.password2});case 2:r=t.sent,console.log(r.data),n=r.data.token,a=r.data.userId,localStorage.setItem("secret",n),localStorage.setItem("othersecret",a),localStorage.getItem("secret")===n?(e.$store.dispatch("incstate"),e.$router.push("/transition")):alert("mauvaises données"),console.log("la requête de création de compte et de token");case 10:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l().post("api/auth/login",{email:e.mail1,password:e.password1});case 2:r=t.sent,localStorage.setItem("secret",r.data.token),localStorage.setItem("othersecret",r.data.userId),localStorage.getItem("secret")==r.data.token&&localStorage.getItem("othersecret")==r.data.userId?(e.$store.dispatch("incstate"),e.$router.push("/transition")):alert("mauvaises données"),console.log(r.data);case 7:case"end":return t.stop()}}),t)})))()},connectDisplay:function(){document.querySelector(".connecter").classList.toggle("connecter_2"),document.querySelector(".inscrire").classList.toggle("inscrire_2")}}},p=u,m=r(1001),d=(0,m.Z)(p,s,o,!1,null,"68447058",null),v=d.exports,g={name:"log",components:{login:v}},f=g,h=(0,m.Z)(f,n,a,!1,null,null,null),_=h.exports},5498:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container_transit"},[n("div",{staticClass:"cont_child"},[n("div",{staticClass:"loader"},[n("span",[e._v("Vérifications en cours...")]),n("img",{attrs:{src:r(2547),alt:""}})]),n("p",[n("span",{staticClass:"mot1"},[e._v("Veuillez")]),n("span",{staticClass:"mot2"},[e._v(" patienter ")]),n("span",{staticClass:"mot3"},[e._v("quelques ")]),n("span",{staticClass:"mot4"},[e._v("instants... ")])])])])}],s=r(6198),o=(r(5666),r(9669)),i=r.n(o),c={created:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i().post("/api/test/verifs",{userId:localStorage.getItem("othersecret")});case 2:r=t.sent,setTimeout((function(){"no"==r.data?e.$router.push("/home"):"yes"==r.data?e.$router.push("compte"):e.$router.push("/")}),4e3);case 4:case"end":return t.stop()}}),t)})))()}},l=c,u=r(1001),p=(0,u.Z)(l,n,a,!1,null,"289d0ff8",null),m=p.exports},5155:function(e,t,r){e.exports=r.p+"img/parked.5255c3aa.svg"},2547:function(e,t,r){e.exports=r.p+"img/car_run.03b4bdd7.gif"}}]);
//# sourceMappingURL=about-legacy.7fbf4d7b.js.map